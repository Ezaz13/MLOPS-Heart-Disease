# Data Versioning with DVC

This document outlines the data versioning strategy for the customer churn prediction project, using DVC (Data Version Control) to ensure reproducibility and track dataset changes over time.

## Versioning Strategy

Our strategy is to version both the **raw data** and the **transformed data**.

1.  **Raw Data (`data/raw/churn_data.csv`)**: This is the original, immutable dataset. We track it to ensure that we can always trace our results back to the source data.

2.  **Transformed Data (`data/database/customer_churn.db`)**: This is the SQLite database containing the cleaned, transformed, and feature-engineered data. Versioning this file allows us to capture the state of our data at each stage of the project, making it easy to switch between different versions of our feature set for model training and experimentation.

## Workflow

The data versioning process is automated through the `version_data.py` script. Hereâ€™s how it works:

1.  **Initialization**: The script first checks if DVC has been initialized in the project. If not, it runs `dvc init` to set up the necessary DVC infrastructure (e.g., the `.dvc` directory and cache).

2.  **Tracking Data**: The script uses `dvc add` to track the raw and transformed data files. This command creates a `.dvc` file for each tracked dataset. These `.dvc` files are small, plain-text files that contain a hash of the data, acting as a pointer to the actual data stored in the DVC cache.

3.  **Committing Changes**: After running the script, you will see new or modified `.dvc` files. These files should be committed to your version control system (e.g., Git). This way, you can version your data alongside your code.

### How to Version a New Dataset

To track a new version of your data, follow these steps:

1.  **Update Your Data**: Make sure your raw data file (`churn_data.csv`) or your transformed database (`customer_churn.db`) has been updated.

2.  **Run the Script**: Execute the `version_data.py` script to update the DVC tracking information:

    ```bash
    python src/data_versioning/version_data.py
    ```

3.  **Commit to Version Control**: After the script runs, you will have updated `.dvc` files. Add these files to your version control system and commit them with a descriptive message.

    ```bash
    git add data/raw/churn_data.csv.dvc data/database/customer_churn.db.dvc
    git commit -m "Updated feature set with tenure groups and high-value flag"
    ```

## Deliverables

*   **DVC Files**: The `.dvc` files generated by the script (e.g., `churn_data.csv.dvc` and `customer_churn.db.dvc`) serve as the record of your dataset versions.

*   **Documentation**: This `README.md` file documents the versioning strategy and workflow.
